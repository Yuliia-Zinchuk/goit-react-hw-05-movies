"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[908],{908:function(t,e,n){n.r(e),n.d(e,{default:function(){return m}});var r=n(885),a=n(639),c=n(791),i=n(689),s=n(861),u=n(757),o=n.n(u),p=n(44),h=function(t){return t.map((function(t){return{id:t.cast_id,name:t.name,img:t.profile_path,character:t.character}}))},f="89e906a95928d3d1981707d668e671c3";function l(){return(l=(0,s.Z)(o().mark((function t(e){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,p.ZP)("/movie/".concat(e,"/credits"),{params:{api_key:f}});case 2:return n=t.sent,t.abrupt("return",h(n.data.cast));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}p.ZP.defaults.baseURL="https://api.themoviedb.org/3";var d=n(184),m=function(){var t=(0,c.useState)([]),e=(0,r.Z)(t,2),n=e[0],s=e[1],u=(0,c.useState)(null),o=(0,r.Z)(u,2),p=o[0],h=o[1],f=(0,c.useState)(!1),m=(0,r.Z)(f,2),g=m[0],w=m[1],x=(0,i.UO)().movieId;return(0,c.useEffect)((function(){(function(t){return l.apply(this,arguments)})(x).then((function(t){s(t),t.length||h(!0)})).catch(h).finally((function(){w(!1)}))}),[x]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("ul",{children:n.map((function(t){var e=t.id,n=t.name,r=t.img,a=t.character;return(0,d.jsxs)("li",{children:[(0,d.jsx)("img",{src:r?"https://image.tmdb.org/t/p/w500/".concat(r):"https://www.freeiconspng.com/uploads/no-image-icon-7.gif",alt:"".concat(n),width:"100px"}),(0,d.jsx)("p",{children:n}),(0,d.jsxs)("p",{children:["Character: ",a]})]},e)}))}),p&&(0,d.jsx)("p",{children:"There are no cast for this movie. "}),g&&(0,d.jsx)(a.a,{})]})}}}]);
//# sourceMappingURL=908.e9c862b9.chunk.js.map